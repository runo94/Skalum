document.querySelector(".animation-block__inner .ssp-card")&&document.querySelectorAll(".animation-block__inner").forEach(e=>{if(!e.querySelector(".gc-group"))return;const t=e.querySelector(".gc-group"),o=t.querySelector(".gc"),a=o.querySelector(".gc-needle"),r=o.querySelector(".gc-track"),n=o.querySelector(".gc-value"),s=getComputedStyle(o),c=parseFloat(s.getPropertyValue("--gc-cx"))||110,i=parseFloat(s.getPropertyValue("--gc-cy"))||125,l=parseFloat(s.getPropertyValue("--gc-r"))||102,d=parseFloat(s.getPropertyValue("--gc-theta0"))||0;r&&(r.setAttribute("cx",c),r.setAttribute("cy",i),r.setAttribute("r",l));const u=e=>{const t=e+d;a.setAttribute("transform",`translate(${c} ${i}) rotate(${t}) translate(0 ${-l})`)};gsap.set(o,{"--gc-start":"180deg","--gc-open":"0deg"});const g={angle:0};u(g.angle);const p={v:27};n.textContent=`${p.v}`;const h=gsap.timeline();h.to(o,{"--gc-open":"360deg",duration:.9,ease:"power3.out"},0).to(g,{angle:123,duration:.94,ease:"power3.out",onUpdate:()=>u(g.angle)},0).to(p,{v:49,duration:.9,ease:"power3.out",onUpdate:()=>n.textContent=`${Math.round(p.v)}`},0);const y=t.querySelector(".gc-bars"),m=gsap.timeline();y.querySelectorAll(".gc-bar").forEach(e=>{const t=e.querySelector(".gc-bar-fill--base"),o=e.querySelector(".gc-bar-fill--hover"),a=+e.dataset.from||0,r=+e.dataset.to||100;gsap.set(t,{height:a+"%"}),gsap.set(o,{height:a+"%",opacity:0}),m.to(t,{height:r+"%",duration:.9,ease:"power3.out"},0).to(o,{height:r+"%",opacity:1,duration:.9,ease:"power3.out"},0)});const v=gsap.timeline(),w=e.querySelector(".ssp-delta-val"),S={v:12};w.textContent=S.v,v.to(S,{v:49,duration:.9,ease:"power3.out",onUpdate:()=>w.textContent=Math.round(S.v)},0),e.querySelectorAll(".ssp-dot").forEach(e=>{const t=e.querySelector(".ssp-dot-base"),o=e.querySelector(".ssp-dot-hover");gsap.set(o,{opacity:0}),v.to(o,{opacity:1,duration:.9,ease:"power3.out"},0),v.to(t,{opacity:0,duration:.9,ease:"power3.out"},0)}),e.querySelectorAll(".ssp-metric").forEach(e=>{const t=+e.dataset.from||0,o=+e.dataset.to||0,a={v:t};e.textContent=t,v.to(a,{v:o,duration:.9,ease:"power3.out",onUpdate:()=>e.textContent=Math.round(a.v)},0)});const q=gsap.timeline({paused:!0});q.add(h,0).add(m,0).add(v,0),e.addEventListener("mouseenter",()=>q.play()),e.addEventListener("mouseleave",()=>q.reverse()),e.addEventListener("click",()=>q.reversed()?q.play():q.reverse())}),(()=>{console.log("work");const e=document.getElementById("c"),t=e.getContext("2d"),o=window.devicePixelRatio||1;if(!e)return;const a=e.closest(".animation-block__inner")||e,r=window.SkalumAnimatedBlock&&window.SkalumAnimatedBlock.imgBase||"/wp-content/themes/skalum/blocks/animation-block/assets/images/",n=new Image,s=new Image,c=new Image;n.src=r+"bg.png",s.src=r+"main_item.png",c.src=r+"group.png";const i={x:28,yRest:260,yHover:130},l={x:28,yRest:130,yHover:210};let d=1,u=1,g=0,p=0;function h(){const t=e.clientWidth||e.width,a=e.clientHeight||e.height;e.width=t*o,e.height=a*o,d=e.width/n.naturalWidth,u=e.height/n.naturalHeight}function y(){t.clearRect(0,0,e.width,e.height),t.drawImage(n,0,0,n.naturalWidth,n.naturalHeight,0,0,e.width,e.height),g+=.12*(p-g);const o=(a=g,1-Math.pow(1-a,1));var a;const r=i.yRest+(i.yHover-i.yRest)*o,h=l.yRest+(l.yHover-l.yRest)*o;t.drawImage(s,i.x*d,r*u,s.naturalWidth*d,s.naturalHeight*u),t.drawImage(c,l.x*d,h*u,c.naturalWidth*d,c.naturalHeight*u),requestAnimationFrame(y)}a.addEventListener("mouseenter",()=>p=1),a.addEventListener("mouseleave",()=>p=0),window.addEventListener("resize",h);let m=0;[n,s,c].forEach(e=>e.onload=()=>{m++,3===m&&(h(),y())})})();