!function(){const e=document.querySelectorAll(".timeline-block");if(!e.length)return;e.forEach(e=>{const t=e.querySelector(".timeline-block__body"),i=e.querySelector(".tl-spine"),n=e.querySelector(".tl-line--bg"),l=e.querySelector(".tl-line--progress"),o=e.querySelectorAll(".tl-item");if(!(t&&i&&n&&l&&o.length))return;const s=()=>{const e=t.getBoundingClientRect(),i=window.scrollY||window.pageYOffset,n=i+e.top,s=n+t.scrollHeight,r=i+.5*window.innerHeight,c=(a=r-n,d=0,g=s-n,Math.max(d,Math.min(g,a)));var a,d,g;l.style.height=c+"px",o.forEach(e=>{e.offsetTop<=c?e.classList.add("is-in-view"):e.classList.remove("is-in-view")})};let r=null;const c=()=>{r||(r=requestAnimationFrame(()=>{r=null,(()=>{t.getBoundingClientRect();const e=Math.max(t.scrollHeight,t.offsetHeight);n.style.height=e+"px"})(),s()}))};c(),window.addEventListener("load",c,{passive:!0}),window.addEventListener("resize",c,{passive:!0}),window.addEventListener("scroll",s,{passive:!0})})}();